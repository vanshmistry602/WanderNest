<% layout('/layouts/boilerplate') -%>
<style>
	#filters {
		display: flex;
		flex-wrap: wrap;
		gap: 0px 2rem;
		justify-content: space-evenly;
		align-items: center;
	}
	.filter {
		text-align: center;
		color: rgb(98, 98, 98);
	}
	.filter:hover {
		color: black;
	}
	.taxLabel{
		display: none;
	}
	.tax-toggle{
		border: 1px solid rgb(183, 183, 183);
		border-radius: 1rem;
		padding: 1rem;
		margin-bottom: 1rem;
		color: rgb(98, 98, 98);
	}
</style>
<body>
	<div id="filters" class="mt-3">
		<div class="filter">
			<div>
				<i class="fa-solid fa-fire"></i>
			</div>
			<p>Trending</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-star"></i>
			</div>New</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-bed"></i>
			</div>
			<p>Rooms</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-city"></i>
			</div>
			<p>Iconic Cities</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-mountain-city"></i>
			</div>
			<p>Mountains</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-brands fa-fort-awesome"></i>
			</div>
			<p>Castles</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-person-swimming"></i>
			</div>
			<p>Beaches</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-campground"></i>
			</div>
			<p>Camping</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-cow"></i>
			</div>
			<p>Farms</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-snowflake"></i>
			</div>
			<p>Arctic</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-mug-saucer"></i>
			</div>
			<p>Luxe</p>
		</div>
		<div class="filter">
			<div>
				<i class="fa-solid fa-sailboat"></i>
			</div>
			<p>Boats</p>
		</div>
		<div class="tax-toggle">
			<div class="form-check-reverse form-switch">
				<input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
				<label class="form-check-label" for="flexSwitchCheckDefault">Display taxes</label>
			</div>
		</div>
	</div>
	<div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-1 mt-3">
		<% for (const listing of allListings) { %>
		<a href="/listings/<%= listing._id %>" class="listing-link"
			><div class="card col listing-card">
				<img src="<%= listing.image.url %>" class="card-img-top" alt="<%=
				listing.image.filename %> style="height: 20rem" />
				<div class="card-img-overlay"></div>
				<div class="card-body">
					<p class="card-text">
						<b><%= listing.title %></b> <br />
						&#8377;<%= listing.price.toLocaleString("en-IN") %>/night
						<i class="taxLabel">&nbsp; + &nbsp;18% GST</i>
					</p>
				</div>
			</div></a
		>
		<% } %>
	</div>
</body>
<script>
	let taxToggle = document.getElementById("flexSwitchCheckDefault");
	let taxLabel = document.getElementsByClassName("taxLabel");
	taxToggle.addEventListener("click",()=>{
		for(ele of taxLabel){
			if(ele.style.display != "inline"){
				ele.style.display = "inline";
			}else{
				ele.style.display = "none";
			}
		}
	})
</script>